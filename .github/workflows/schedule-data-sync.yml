name: Scheduled API Call

on:
  schedule:
    # Runs at 00:00 UTC on the 1st day of every month
    - cron: "0 21 * * *"
  workflow_dispatch: # allow manual trigger

jobs:
  call-api:
    runs-on: ubuntu-latest

    steps:
      - name: Call API endpoint
        run: |
          curl -X POST \
            -H "Authorization: Bearer ${{ secrets.CRON_SECRET_TOKEN }}" \
            ${{ secrets.API_URL }}
